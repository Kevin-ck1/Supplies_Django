{% extends "company/layout.html"%}

{% block body %}

<div class="container">
    <div class="d-flex justify-content-between mr-2">
        <h1>Jobs</h1>
        
        <h4 class="align-self-center" id="addButton"> + Job </h4>
    </div>

    <div class="p-3 jobForm">
      <form id='jobForm'>
        <div class="form-group col ">
          <label for="jobCode"> Job Code </label>
          <input type="text" class="form-control" id="jobCode" placeholder="Job Code" required>
        </div>

        <div class="form-group col">
          <label for="client">Client</label>
          <select name="" id="client"  class="form-control custom-select">
            <option value="0" selected>
              <span class="text-secondary">Select Client</span>
            </option>
            {% for client in clients %}
              <option value="{{client.id}}">{{client.nameC}}</option>
            {% endfor %}
          </select>
        </div>

        <div class="jobWarning my-3">
          <hr>
          <h5>
            Job Already Exist, Check
            <a class="searchProduct"></a>
            to edit the Job
          </h5>
        </div>

        <hr>

        <div class="pt-2 d-flex justify-content-between ">
          <button type="submit" class="btn btn-primary" id="submitButton">Add Job</button>
          <p class="buttonClose">[x Close]</p>
        </div>

      </form>
    </div>
      
    <div class="filterProduct row form-group mx-1 mb-4 pt-2 col-md-6">
      <input class="filterInput form-control border-primary" type="text" placeholder="Search Jobs">
    </div>

    <div class="rounded mt-2 pt-2">
      <table class="table table-striped table-hover table-bordered border-primary pt-2">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Job</th>
              <th scope="col">Client</th>
              <th scope="col">Value</th>
              <th scope="col">Status</th>
            </tr>
          </thead>
          <tbody id="jobTable">
              {%for job in jobs %}
              <tr id="{{job.id}}">
                  <td scope="row" class="rowCounter"></td>
                  <td>{{job.code}} </td>
                  <td>{{job.client}}</td>
                  {%if job.value%} 
                    <td>{{job.value}}</td>
                  {%else%}
                    <td>0</td>
                  {%endif%}
                  <td>{{job.status}}</td>
              </tr>
              {%endfor%}
          </tbody>
        </table>
    </div>    
</div>

{%endblock%}

{% load static %}
{% block scripttag%}
<script src="{% static 'company/jobs.js' %}"></script>
{%endblock%}